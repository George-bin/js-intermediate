<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
    <ul id="ul1">
    	<li>1111</li>
    	<li class="box">2222</li>
    	<li class="box2">3333</li>
    	<li class="box box1">4444</li>
    </ul>
    <ul id="ul2">
    	<li>1111</li>
    	<li class="box">2222</li>
    	<li class="box2">3333</li>
    	<li class="box box1">4444</li>
    </ul>
    <div id="div1">
        <p class="box">pppp</p>
    </div>
	<script>
        //getElementsClassName()
        
        var oUl2 = document.getElementById('ul2'),
            oUl1 = document.getElementById('ul1');
        
        var aLi = getElementsByClassName(document, 'p', 'box');

        alert(aLi.length);

        console.log(aLi);

        for(var i=0, len=aLi.length; i<len; i++) {

        	aLi[i].style.background = 'red';
        }

        function getElementsByClassName(parentElement, target, className) {

        	var aEles = parentElement.getElementsByTagName(target);

        	var arr = [];

        	for(var i=0, len=aEles.length; i<len; i++) {

        		// if(aEles[i].className == className) {

        		// 	arr.push(aEles[i]);

        		// }
        		
        		var aClassName = aEles[i].className.split(' ');

        		for(var j=0; j<aClassName.length; j++) {

                    if(aClassName[j] == className) {

                    	arr.push(aEles[i]);

                    	break;  //找到一次，立即跳出循环  防止双class导致错误

                    }
        		}
        	}

        	return arr;
        }

	</script>
</body>
</html>